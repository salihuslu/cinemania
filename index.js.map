{"version":3,"file":"index.js","sources":["../src/js/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '8a0658d1a6872272a1ed1ab9af543174';\nconst API_BASE_URL = 'https://api.themoviedb.org/3';\n\nconst apiBaseUrl = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  params: {\n    api_key: API_KEY,\n  },\n});\n\n// Cache DOM elements\nconst domElements = {\n  heroContentBtn: document.querySelector('.hero-content-btn'),\n  upcomingMovieLink: document.querySelector('.upcoming-movie-link'),\n  weeklyMovieList: document.querySelector('.weekly-movie-list'),\n  hero: document.querySelector('.hero'),\n  defaultHero: document.querySelector('.default-hero'),\n  movieHero: document.querySelector('.movie-hero'),\n  prevButton: document.querySelector('.slider-button.prev'),\n  nextButton: document.querySelector('.slider-button.next'),\n  themeSwitch: document.getElementById('theme-switch'),\n  upcomingMovieList: document.querySelector('.upcoming-movies-list'),\n  modal: document.getElementById('movieDetailsModal'),\n  modalCloseBtn: document.querySelector('.modal-close-btn'),\n  videoModal: document.getElementById('videoModal'),\n  videoFrame: document.getElementById('videoFrame'),\n  videoModalCloseBtn: document.querySelector('#videoModal .modal-close-btn'),\n  errorModal: document.getElementById('errorModal'),\n  errorModalCloseBtn: document.querySelector('#errorModal .modal-close-btn'),\n  errorMessage: document.querySelector('.error-message'),\n};\n\ndomElements.heroContentBtn.addEventListener('click', () => {\n  window.location.href = '/cinemania/catalog.html';\n});\n\nconst fetchData = async (endpoint, params = {}) => {\n  try {\n    const response = await apiBaseUrl.get(endpoint, { params });\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching data:', error);\n    return null;\n  }\n};\n\nconst createStarRating = rating => {\n  return Array(5)\n    .fill()\n    .map(\n      (_, index) => `\n      <i class=\"fas fa-star ${\n        index < Math.round(rating / 2) ? 'filled' : ''\n      }\"></i>\n    `\n    )\n    .join('');\n};\n\nconst formatDate = dateString => {\n  return new Date(dateString).toLocaleDateString('en-US', {\n    month: 'long',\n    day: 'numeric',\n    year: 'numeric',\n  });\n};\n\nconst getGenreNames = (genres, limit = 2) => {\n  return (genres || [])\n    .slice(0, limit)\n    .map(g => g.name)\n    .join(', ');\n};\n\n// Theme handling\nconst initTheme = () => {\n  const savedTheme = localStorage.getItem('theme');\n  if (savedTheme === 'light') {\n    document.documentElement.setAttribute('data-theme', 'light');\n    domElements.themeSwitch.checked = false;\n  } else {\n    document.documentElement.removeAttribute('data-theme');\n    domElements.themeSwitch.checked = true;\n  }\n\n  domElements.themeSwitch.addEventListener('change', () => {\n    if (domElements.themeSwitch.checked) {\n      document.documentElement.removeAttribute('data-theme');\n      localStorage.setItem('theme', 'dark');\n    } else {\n      document.documentElement.setAttribute('data-theme', 'light');\n      localStorage.setItem('theme', 'light');\n    }\n  });\n};\n\n// Slider functionality\nconst initSlider = data => {\n  let currentSlide = 0;\n  const slidesPerView = 4;\n  const totalSlides = data.results.length;\n  const movieItem =\n    domElements.weeklyMovieList.querySelector('.weekly-movie-item');\n  const itemWidth = movieItem.offsetWidth;\n  const gap = 16;\n\n  domElements.prevButton.style.display = 'none';\n\n  const updateSliderPosition = () => {\n    const offset = currentSlide * (itemWidth + gap);\n    domElements.weeklyMovieList.style.transform = `translateX(-${offset}px)`;\n    domElements.prevButton.style.display = currentSlide === 0 ? 'none' : 'flex';\n    domElements.nextButton.style.display =\n      currentSlide >= totalSlides - slidesPerView ? 'none' : 'flex';\n  };\n\n  domElements.prevButton.addEventListener('click', () => {\n    if (currentSlide > 0) {\n      currentSlide--;\n      updateSliderPosition();\n    }\n  });\n\n  domElements.nextButton.addEventListener('click', () => {\n    if (currentSlide < totalSlides - slidesPerView) {\n      currentSlide++;\n      updateSliderPosition();\n    }\n  });\n};\n\n// Show video modal\nconst showVideoModal = videoId => {\n  domElements.videoFrame.src = `https://www.youtube.com/embed/${videoId}?autoplay=1`;\n  domElements.videoModal.classList.add('active');\n  document.body.style.overflow = 'hidden';\n};\n\n// Close video modal\nconst closeVideoModal = () => {\n  domElements.videoFrame.src = '';\n  domElements.videoModal.classList.remove('active');\n  document.body.style.overflow = '';\n};\n\n// Event listeners for video modal\ndomElements.videoModalCloseBtn.addEventListener('click', closeVideoModal);\ndomElements.videoModal.addEventListener('click', e => {\n  if (e.target === domElements.videoModal) {\n    closeVideoModal();\n  }\n});\n\n// Show error modal\nconst showErrorModal = message => {\n  domElements.errorMessage.textContent = message;\n  domElements.errorModal.classList.add('active');\n  document.body.style.overflow = 'hidden';\n};\n\n// Close error modal\nconst closeErrorModal = () => {\n  domElements.errorModal.classList.remove('active');\n  document.body.style.overflow = '';\n};\n\n// Event listeners for error modal\ndomElements.errorModalCloseBtn.addEventListener('click', closeErrorModal);\ndomElements.errorModal.addEventListener('click', e => {\n  if (e.target === domElements.errorModal) {\n    closeErrorModal();\n  }\n});\n\n// Movie click handler\nconst handleMovieClick = async (movieId, data) => {\n  const movieDetails = await fetchData(`/movie/${movieId}`);\n\n  domElements.hero.style.backgroundImage = `url(https://image.tmdb.org/t/p/original${movieDetails.backdrop_path})`;\n\n  const contentElements = [\n    `<h1>${movieDetails.title}</h1>`,\n    `<div class=\"movie-rating-stars\">\n      <div class=\"stars\">${createStarRating(movieDetails.vote_average)}</div>\n      <span class=\"rating-number\">${movieDetails.vote_average.toFixed(1)}</span>\n    </div>`,\n    `<p>${movieDetails.overview.slice(0, 150)}...</p>`,\n    `<div class=\"hero-buttons\">\n      <button class=\"watch-trailer-btn\" data-movie-id=\"${movieId}\">\n        <span>Watch Trailer</span>\n      </button>\n      <button class=\"more-details-btn\" data-movie-id=\"${movieId}\">\n        <span>More Details</span>\n      </button>\n    </div>`,\n  ];\n\n  domElements.movieHero.innerHTML = contentElements.join('');\n  domElements.defaultHero.style.display = 'none';\n  domElements.movieHero.style.display = 'block';\n  domElements.hero.scrollIntoView({ behavior: 'smooth' });\n\n  // Add click event listeners for buttons\n  const watchTrailerBtn =\n    domElements.movieHero.querySelector('.watch-trailer-btn');\n  const moreDetailsBtn =\n    domElements.movieHero.querySelector('.more-details-btn');\n\n  if (watchTrailerBtn) {\n    watchTrailerBtn.addEventListener('click', async () => {\n      try {\n        const videos = await fetchData(`/movie/${movieId}/videos`);\n        const trailer = videos.results.find(\n          video => video.type === 'Trailer' && video.site === 'YouTube'\n        );\n\n        if (trailer) {\n          showVideoModal(trailer.key);\n        } else {\n          showErrorModal(\n            'Sorry, trailer is not available for this movie at the moment. Please check back later.'\n          );\n        }\n      } catch (error) {\n        console.error('Error fetching video:', error);\n        showErrorModal(\n          'Sorry, we encountered an error while loading the trailer. Please try again later.'\n        );\n      }\n    });\n  }\n\n  if (moreDetailsBtn) {\n    moreDetailsBtn.addEventListener('click', () => showMovieDetails(movieId));\n  }\n};\n\n// Format currency\nconst formatCurrency = amount => {\n  if (!amount) return 'N/A';\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    maximumFractionDigits: 0,\n  }).format(amount);\n};\n\n// Format runtime\nconst formatRuntime = minutes => {\n  if (!minutes) return 'N/A';\n  const hours = Math.floor(minutes / 60);\n  const remainingMinutes = minutes % 60;\n  return `${hours}h ${remainingMinutes}m`;\n};\n\n// Show movie details in modal\nconst showMovieDetails = async movieId => {\n  try {\n    const movieDetails = await fetchData(`/movie/${movieId}`);\n    const credits = await fetchData(`/movie/${movieId}/credits`);\n    const cast = credits.cast.slice(0, 6);\n\n    const modalContent = `\n      <div class=\"modal-header\">\n        <h2 class=\"modal-title\">${movieDetails.title}</h2>\n        <div class=\"modal-rating\">\n          <div class=\"stars\">${createStarRating(\n            movieDetails.vote_average\n          )}</div>\n          <span>${movieDetails.vote_average.toFixed(1)}</span>\n        </div>\n      </div>\n      <div class=\"modal-info\">\n        <div>\n          <h4>Genre</h4>\n          <p>${getGenreNames(movieDetails.genres)}</p>\n        </div>\n        <div>\n          <h4>Release Date</h4>\n          <p>${formatDate(movieDetails.release_date)}</p>\n        </div>\n        <div>\n          <h4>Runtime</h4>\n          <p>${movieDetails.runtime} min</p>\n        </div>\n        <div>\n          <h4>Budget</h4>\n          <p>${formatCurrency(movieDetails.budget)}</p>\n        </div>\n        <div>\n          <h4>Revenue</h4>\n          <p>${formatCurrency(movieDetails.revenue)}</p>\n        </div>\n      </div>\n      <div class=\"modal-overview\">\n        <h3>Overview</h3>\n        <p>${movieDetails.overview}</p>\n      </div>\n      <div class=\"modal-cast\">\n        <h3>Cast</h3>\n        <div class=\"cast-list\">\n          ${cast\n            .map(\n              actor => `\n            <div class=\"cast-member\">\n              <img src=\"https://image.tmdb.org/t/p/w185${actor.profile_path}\" alt=\"${actor.name}\" onerror=\"this.src='https://via.placeholder.com/185x185?text=No+Image'\">\n              <div class=\"name\">${actor.name}</div>\n              <div class=\"character\">${actor.character}</div>\n            </div>\n          `\n            )\n            .join('')}\n        </div>\n      </div>\n    `;\n\n    domElements.modal.querySelector('.modal-content').innerHTML = modalContent;\n    domElements.modal.classList.add('active');\n    document.body.style.overflow = 'hidden';\n\n    // Add event listener for close button\n    const closeBtn = domElements.modal.querySelector('.modal-close-btn');\n    if (closeBtn) {\n      closeBtn.addEventListener('click', () => {\n        domElements.modal.classList.remove('active');\n        document.body.style.overflow = '';\n      });\n    }\n\n    // Close modal when clicking outside\n    domElements.modal.addEventListener('click', e => {\n      if (e.target === domElements.modal) {\n        domElements.modal.classList.remove('active');\n        document.body.style.overflow = '';\n      }\n    });\n  } catch (error) {\n    console.error('Error showing movie details:', error);\n    showErrorModal('Failed to load movie details. Please try again later.');\n  }\n};\n\n// Render functions\nconst renderWeeklyMovies = async () => {\n  try {\n    const data = await fetchData('/trending/movie/week');\n    if (!data?.results) return;\n\n    const moviePromises = data.results.map(async movie => {\n      const movieDetails = await fetchData(`/movie/${movie.id}`);\n      const genreNames = getGenreNames(movieDetails?.genres);\n      const year = new Date(movie.release_date).getFullYear();\n\n      // Check if movie is in library\n      const library = JSON.parse(localStorage.getItem('library') || '[]');\n      const isInLibrary = library.some(m => m.id === movie.id);\n\n      return `\n          <li class=\"weekly-movie-item\" data-movie-id=\"${movie.id}\">\n            <a class=\"weekly-movie-link\" href=\"#\">\n              <img class=\"weekly-movie-image\" src=\"https://image.tmdb.org/t/p/w500${\n                movie.poster_path\n              }\" alt=\"${movie.title}\">\n              <div class=\"movie-rating\">\n                <i class=\"fas fa-star\"></i>\n                <span>${movie.vote_average.toFixed(1)}</span>\n              </div>\n              <div class=\"weekly-movie-info\">\n                <h3 class=\"movie-title\">${movie.title}</h3>\n                <div class=\"movie-meta\">\n                  ${genreNames} <span class=\"movie-meta-divider\">|</span> ${year}\n                </div>\n              </div>\n            </a>\n            <button class=\"add-to-library ${\n              isInLibrary ? 'added' : ''\n            }\" data-movie-id=\"${movie.id}\">\n              <i class=\"fas ${isInLibrary ? 'fa-check' : 'fa-plus'}\"></i>\n              ${isInLibrary ? 'Added to library' : 'Add to library'}\n            </button>\n          </li>\n        `;\n    });\n\n    const movieItems = await Promise.all(moviePromises);\n    domElements.weeklyMovieList.innerHTML = movieItems.join('');\n\n    initSlider(data);\n\n    // Add click event listeners using event delegation\n    domElements.weeklyMovieList.addEventListener('click', async e => {\n      const addToLibraryBtn = e.target.closest('.add-to-library');\n      if (addToLibraryBtn) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        const movieId = parseInt(addToLibraryBtn.dataset.movieId);\n        const movie = data.results.find(m => m.id === movieId);\n        if (!movie) return;\n\n        // Get movie details for complete data\n        const movieDetails = await fetchData(`/movie/${movieId}`);\n\n        // Get movie data with consistent format\n        const movieData = {\n          id: movieId,\n          title: movie.title,\n          poster_path: movie.poster_path,\n          release_date: movie.release_date,\n          vote_average: movie.vote_average,\n          genres: movieDetails.genres.map(g => g.name).join(', '),\n          overview: movie.overview,\n        };\n\n        // Check if movie is in library\n        let library = JSON.parse(localStorage.getItem('library') || '[]');\n        const isInLibrary = library.some(m => m.id === movieId);\n\n        if (isInLibrary) {\n          // Remove from library\n          library = library.filter(m => m.id !== movieId);\n          localStorage.setItem('library', JSON.stringify(library));\n          addToLibraryBtn.innerHTML =\n            '<i class=\"fas fa-plus\"></i> Add to library';\n          addToLibraryBtn.style.background = '#ff6b01';\n          addToLibraryBtn.disabled = false;\n        } else {\n          // Add to library\n          library.push(movieData);\n          localStorage.setItem('library', JSON.stringify(library));\n          addToLibraryBtn.innerHTML =\n            '<i class=\"fas fa-check\"></i> Added to library';\n          addToLibraryBtn.style.background = '#2ecc71';\n          addToLibraryBtn.disabled = true;\n        }\n        return;\n      }\n\n      const movieItem = e.target.closest('.weekly-movie-item');\n      if (movieItem) {\n        e.preventDefault();\n        const movieId = parseInt(movieItem.dataset.movieId);\n        const movie = data.results.find(m => m.id === movieId);\n        if (!movie) return;\n        await handleMovieClick(movieId, data);\n      }\n    });\n  } catch (error) {\n    console.error('Error rendering weekly movies:', error);\n  }\n};\n\nconst renderUpcomingMovies = async () => {\n  try {\n    const data = await fetchData('/movie/upcoming');\n\n    if (!data?.results) {\n      domElements.upcomingMovieList.innerHTML =\n        '<p>No upcoming movies available.</p>';\n      return;\n    }\n\n    // Sort movies by popularity and filter out movies without images\n    const topMovies = data.results\n      .filter(movie => movie.backdrop_path && movie.poster_path)\n      .sort((a, b) => b.popularity - a.popularity)\n      .slice(0, 5);\n\n    if (topMovies.length === 0) {\n      domElements.upcomingMovieList.innerHTML =\n        '<p>No upcoming movies with images available.</p>';\n      return;\n    }\n\n    const moviePromises = topMovies.map(async movie => {\n      const movieDetails = await fetchData(`/movie/${movie.id}`);\n      const genreNames = getGenreNames(movieDetails?.genres, 3);\n      const library = JSON.parse(localStorage.getItem('library') || '[]');\n      const isInLibrary = library.some(m => m.id === movie.id);\n\n      return `\n        <li class=\"upcoming-movie-item\">\n          <a class=\"upcoming-movie-link\" href=\"#\">\n            <div class=\"upcoming-movie-image-container\">\n              <img class=\"upcoming-movie-image\" src=\"https://image.tmdb.org/t/p/w1280${\n                movie.backdrop_path\n              }\" alt=\"${movie.title}\">\n            </div>\n            <div class=\"upcoming-movie-info\">\n              <h3 class=\"movie-title\">${movie.title}</h3>\n              <div class=\"info-section\">\n                <div class=\"info-row\">\n                  <span class=\"info-label\">Release Date</span>\n                  <span class=\"info-value-date\">${formatDate(\n                    movie.release_date\n                  )}</span>\n                </div>\n                <div class=\"info-row\">\n                  <span class=\"info-label\">Rating</span>\n                  <span class=\"info-value-rating\">\n                    ${movie.vote_average.toFixed(\n                      1\n                    )} / ${movie.vote_count.toLocaleString()} votes\n                  </span>\n                </div>\n                <div class=\"info-row\">\n                  <span class=\"info-label\">Popularity</span>\n                  <span class=\"info-value-popularity\">${Math.round(\n                    movie.popularity\n                  ).toLocaleString()}</span>\n                </div>\n                <div class=\"info-row\">\n                  <span class=\"info-label\">Genre</span>\n                  <span class=\"info-value-genre\">${genreNames}</span>\n                </div>\n              </div>\n              <div class=\"movie-about\">\n                <h4 class=\"about-label\">ABOUT</h4>\n                <p class=\"about-text\">${movie.overview}</p>\n              </div>\n              <button class=\"add-to-library ${\n                isInLibrary ? 'added' : ''\n              }\" data-movie-id=\"${movie.id}\">\n                <i class=\"fas ${isInLibrary ? 'fa-check' : 'fa-plus'}\"></i>\n                ${isInLibrary ? 'Added to library' : 'Add to my library'}\n              </button>\n            </div>\n          </a>\n        </li>\n      `;\n    });\n\n    const movieItems = await Promise.all(moviePromises);\n    domElements.upcomingMovieList.innerHTML = movieItems.join('');\n\n    // Add click event listeners using event delegation\n    domElements.upcomingMovieList.addEventListener('click', async e => {\n      const button = e.target.closest('.add-to-library');\n      if (button) {\n        e.preventDefault();\n        const movieId = parseInt(button.dataset.movieId);\n        const movie = topMovies.find(m => m.id === movieId);\n\n        if (!movie) return;\n\n        // Get movie details for complete data\n        const movieDetails = await fetchData(`/movie/${movieId}`);\n\n        // Get movie data with consistent format\n        const movieData = {\n          id: movieId,\n          title: movie.title,\n          poster_path: movie.poster_path,\n          release_date: movie.release_date,\n          vote_average: movie.vote_average,\n          genres: movieDetails.genres.map(g => g.name).join(', '),\n          overview: movie.overview,\n        };\n\n        // Update button state\n        button.innerHTML = '<i class=\"fas fa-check\"></i> Added to library';\n        button.style.background = '#2ecc71';\n        button.disabled = true;\n\n        // Store in localStorage\n        let library = JSON.parse(localStorage.getItem('library') || '[]');\n        if (!library.some(m => m.id === movieId)) {\n          library.push(movieData);\n          localStorage.setItem('library', JSON.stringify(library));\n        }\n        return;\n      }\n\n      const movieItem = e.target.closest('.upcoming-movie-item');\n      if (movieItem) {\n        e.preventDefault();\n        const movieId = parseInt(\n          movieItem.querySelector('.add-to-library').dataset.movieId\n        );\n        handleMovieClick(movieId, data);\n      }\n    });\n  } catch (error) {\n    console.error('Error rendering upcoming movies:', error);\n    domElements.upcomingMovieList.innerHTML =\n      '<p>Error loading upcoming movies. Please try again later.</p>';\n  }\n};\n\n// Listen for messages from other pages\nwindow.addEventListener('message', event => {\n  if (event.data.type === 'removeFromLibrary') {\n    // Update button state in weekly trends\n    const weeklyButton = document.querySelector(\n      `.weekly-movie-item [data-movie-id=\"${event.data.movieId}\"]`\n    );\n    if (weeklyButton) {\n      weeklyButton.innerHTML = '<i class=\"fas fa-plus\"></i> Add to library';\n      weeklyButton.style.background = '#ff6b01';\n      weeklyButton.disabled = false;\n    }\n\n    // Update button state in movie details modal\n    const modalButton = document.querySelector(\n      `#movieDetailsModal [data-movie-id=\"${event.data.movieId}\"]`\n    );\n    if (modalButton) {\n      modalButton.innerHTML = '<i class=\"fas fa-plus\"></i> Add to library';\n      modalButton.style.background = '#ff6b01';\n      modalButton.disabled = false;\n    }\n  }\n});\n// Hamburger Menu Functionality\nconst hamburgerMenu = document.querySelector('.hamburger-menu');\nconst navLinks = document.querySelector('.nav-links');\n\nhamburgerMenu.addEventListener('click', () => {\n  hamburgerMenu.classList.toggle('active');\n  navLinks.classList.toggle('active');\n});\n\n// Close menu when clicking outside\ndocument.addEventListener('click', e => {\n  if (!hamburgerMenu.contains(e.target) && !navLinks.contains(e.target)) {\n    hamburgerMenu.classList.remove('active');\n    navLinks.classList.remove('active');\n  }\n});\n\n// Close menu when clicking on a link\nnavLinks.querySelectorAll('a').forEach(link => {\n  link.addEventListener('click', () => {\n    hamburgerMenu.classList.remove('active');\n    navLinks.classList.remove('active');\n  });\n});\n\n// Initialize\ndocument.addEventListener('DOMContentLoaded', () => {\n  initTheme();\n  renderWeeklyMovies();\n  renderUpcomingMovies();\n});\n\nfunction slideWeeklyMovies(direction) {\n  const container = document.querySelector('.weekly-movie-list');\n  const itemWidth = container.children[0].offsetWidth + 16;\n  const slideAmount = itemWidth * 8;\n  const currentTransform = getComputedStyle(container).transform;\n  const matrix = new DOMMatrix(currentTransform);\n  const currentTranslate = matrix.m41;\n  const newTranslate = currentTranslate + direction * slideAmount;\n  const maxTranslate = -(\n    container.scrollWidth - container.parentElement.offsetWidth\n  );\n\n  // Limit the translation to prevent sliding beyond the content\n  const limitedTranslate = Math.max(maxTranslate, Math.min(0, newTranslate));\n  container.style.transform = `translateX(${limitedTranslate}px)`;\n\n  // Update button visibility\n  updateWeeklySliderButtons(limitedTranslate, maxTranslate);\n}\n"],"names":["API_KEY","API_BASE_URL","apiBaseUrl","axios","domElements","fetchData","endpoint","params","error","createStarRating","rating","_","index","formatDate","dateString","getGenreNames","genres","limit","g","initTheme","initSlider","data","currentSlide","slidesPerView","totalSlides","itemWidth","gap","updateSliderPosition","offset","showVideoModal","videoId","closeVideoModal","showErrorModal","message","closeErrorModal","handleMovieClick","movieId","movieDetails","contentElements","watchTrailerBtn","moreDetailsBtn","trailer","video","showMovieDetails","formatCurrency","amount","cast","modalContent","actor","closeBtn","e","renderWeeklyMovies","moviePromises","movie","genreNames","year","isInLibrary","m","movieItems","addToLibraryBtn","movieData","library","movieItem","renderUpcomingMovies","topMovies","b","button","event","weeklyButton","modalButton","hamburgerMenu","navLinks","link"],"mappings":"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"}