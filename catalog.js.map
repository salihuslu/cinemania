{"version":3,"file":"catalog.js","sources":["../src/js/catalog.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '8a0658d1a6872272a1ed1ab9af543174';\nconst API_BASE_URL = 'https://api.themoviedb.org/3';\nconst IMAGE_BASE_URL = 'https://image.tmdb.org/t/p';\n\n// API configuration\nconst apiBaseUrl = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  params: {\n    api_key: API_KEY,\n  },\n});\n\nconst domElements = {\n  weeklyMovieList: document.querySelector('.weekly-movie-list'),\n  hero: document.querySelector('.hero'),\n  defaultHero: document.querySelector('.default-hero'),\n  movieHero: document.querySelector('.movie-hero'),\n  prevButton: document.querySelector('.slider-button.prev'),\n  nextButton: document.querySelector('.slider-button.next'),\n  themeSwitch: document.getElementById('theme-switch'),\n  modal: document.getElementById('movieDetailsModal'),\n  modalCloseBtn: document.querySelector('.modal-close-btn'),\n  videoModal: document.getElementById('videoModal'),\n  videoFrame: document.getElementById('videoFrame'),\n  videoModalCloseBtn: document.querySelector('#videoModal .modal-close-btn'),\n  errorModal: document.getElementById('errorModal'),\n  errorModalCloseBtn: document.querySelector('#errorModal .modal-close-btn'),\n  errorMessage: document.querySelector('.error-message'),\n  movieGrid: document.querySelector('.movie-grid'),\n  catalogList: document.querySelector('.catalog-list'),\n  genreSelect: document.querySelector('.genre-select'),\n  loadMoreBtn: document.querySelector('.load-more-btn'),\n  hamburgerMenu: document.querySelector('.hamburger-menu'),\n  navLinks: document.querySelector('.nav-links'),\n  searchInput: document.querySelector('.search-input'),\n  yearSelect: document.querySelector('.year-select'),\n  searchButton: document.querySelector('.search-button'),\n  weeklyTrendsList: document.querySelector('.weekly-trends-list'),\n  upcomingMoviesList: document.querySelector('.upcoming-movies-list'),\n  movieDetailsModal: document.getElementById('movieDetailsModal'),\n  movieDetailsModalCloseBtn: document.querySelector(\n    '#movieDetailsModal .modal-close-btn'\n  ),\n};\n\n// Utility functions\nconst fetchData = async (endpoint, params = {}) => {\n  try {\n    const response = await apiBaseUrl.get(endpoint, { params });\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching data:', error);\n    return null;\n  }\n};\n\nconst createStarRating = rating => {\n  return Array(5)\n    .fill()\n    .map(\n      (_, index) => `\n      <i class=\"fas fa-star ${\n        index < Math.round(rating / 2) ? 'filled' : ''\n      }\"></i>\n    `\n    )\n    .join('');\n};\n\nconst formatDate = dateString => {\n  return new Date(dateString).toLocaleDateString('en-US', {\n    month: 'long',\n    day: 'numeric',\n    year: 'numeric',\n  });\n};\n\nconst getGenreNames = (genres, limit = 2) => {\n  return (genres || [])\n    .slice(0, limit)\n    .map(g => g.name)\n    .join(', ');\n};\n\n// Theme handling\nconst initTheme = () => {\n  const savedTheme = localStorage.getItem('theme');\n  if (savedTheme === 'light') {\n    document.documentElement.setAttribute('data-theme', 'light');\n    domElements.themeSwitch.checked = false;\n  } else {\n    document.documentElement.removeAttribute('data-theme');\n    domElements.themeSwitch.checked = true;\n  }\n\n  domElements.themeSwitch.addEventListener('change', () => {\n    if (domElements.themeSwitch.checked) {\n      document.documentElement.removeAttribute('data-theme');\n      localStorage.setItem('theme', 'dark');\n    } else {\n      document.documentElement.setAttribute('data-theme', 'light');\n      localStorage.setItem('theme', 'light');\n    }\n  });\n};\n\n// Slider functionality\nconst initSlider = data => {\n  let currentSlide = 0;\n  const slidesPerView = 4;\n  const totalSlides = data.results.length;\n  const movieItem =\n    domElements.weeklyMovieList.querySelector('.weekly-movie-item');\n  const itemWidth = movieItem.offsetWidth;\n  const gap = 16;\n\n  domElements.prevButton.style.display = 'none';\n\n  const updateSliderPosition = () => {\n    const offset = currentSlide * (itemWidth + gap);\n    domElements.weeklyMovieList.style.transform = `translateX(-${offset}px)`;\n    domElements.prevButton.style.display = currentSlide === 0 ? 'none' : 'flex';\n    domElements.nextButton.style.display =\n      currentSlide >= totalSlides - slidesPerView ? 'none' : 'flex';\n  };\n\n  domElements.prevButton.addEventListener('click', () => {\n    if (currentSlide > 0) {\n      currentSlide--;\n      updateSliderPosition();\n    }\n  });\n\n  domElements.nextButton.addEventListener('click', () => {\n    if (currentSlide < totalSlides - slidesPerView) {\n      currentSlide++;\n      updateSliderPosition();\n    }\n  });\n};\n\n// Show video modal\nconst showVideoModal = videoId => {\n  domElements.videoFrame.src = `https://www.youtube.com/embed/${videoId}?autoplay=1`;\n  domElements.videoModal.classList.add('active');\n  document.body.style.overflow = 'hidden';\n};\n\n// Close video modal\nconst closeVideoModal = () => {\n  domElements.videoFrame.src = '';\n  domElements.videoModal.classList.remove('active');\n  document.body.style.overflow = '';\n};\n\n// Event listeners for video modal\ndomElements.videoModalCloseBtn.addEventListener('click', closeVideoModal);\ndomElements.videoModal.addEventListener('click', e => {\n  if (e.target === domElements.videoModal) {\n    closeVideoModal();\n  }\n});\n\n// Show error modal\nconst showErrorModal = message => {\n  domElements.errorMessage.textContent = message;\n  domElements.errorModal.classList.add('active');\n  document.body.style.overflow = 'hidden';\n};\n\n// Close error modal\nconst closeErrorModal = () => {\n  domElements.errorModal.classList.remove('active');\n  document.body.style.overflow = '';\n};\n\n// Event listeners for error modal\ndomElements.errorModalCloseBtn.addEventListener('click', closeErrorModal);\ndomElements.errorModal.addEventListener('click', e => {\n  if (e.target === domElements.errorModal) {\n    closeErrorModal();\n  }\n});\n\n// Movie click handler\nconst handleMovieClick = async (movieId, data) => {\n  const movieDetails = await fetchData(`/movie/${movieId}`);\n\n  domElements.hero.style.backgroundImage = `url(https://image.tmdb.org/t/p/original${movieDetails.backdrop_path})`;\n\n  const contentElements = [\n    `<h1>${movieDetails.title}</h1>`,\n    `<div class=\"movie-rating-stars\">\n      <div class=\"stars\">${createStarRating(movieDetails.vote_average)}</div>\n      <span class=\"rating-number\">${movieDetails.vote_average.toFixed(1)}</span>\n    </div>`,\n    `<p>${movieDetails.overview.slice(0, 150)}...</p>`,\n    `<div class=\"hero-buttons\">\n      <button class=\"watch-trailer-btn\" data-movie-id=\"${movieId}\">\n        <span>Watch Trailer</span>\n      </button>\n      <button class=\"more-details-btn\" data-movie-id=\"${movieId}\">\n        <span>More Details</span>\n      </button>\n    </div>`,\n  ];\n\n  domElements.movieHero.innerHTML = contentElements.join('');\n  domElements.defaultHero.style.display = 'none';\n  domElements.movieHero.style.display = 'block';\n  domElements.hero.scrollIntoView({ behavior: 'smooth' });\n\n  // Add click event listeners for buttons\n  const watchTrailerBtn =\n    domElements.movieHero.querySelector('.watch-trailer-btn');\n  const moreDetailsBtn =\n    domElements.movieHero.querySelector('.more-details-btn');\n\n  watchTrailerBtn.addEventListener('click', async () => {\n    try {\n      const videos = await fetchData(`/movie/${movieId}/videos`);\n      const trailer = videos.results.find(\n        video => video.type === 'Trailer' && video.site === 'YouTube'\n      );\n\n      if (trailer) {\n        showVideoModal(trailer.key);\n      } else {\n        showErrorModal(\n          'Sorry, trailer is not available for this movie at the moment. Please check back later.'\n        );\n      }\n    } catch (error) {\n      console.error('Error fetching video:', error);\n      showErrorModal(\n        'Sorry, we encountered an error while loading the trailer. Please try again later.'\n      );\n    }\n  });\n\n  moreDetailsBtn.addEventListener('click', () =>\n    showMovieDetails(movieDetails)\n  );\n};\n\n// Format currency\nconst formatCurrency = amount => {\n  if (!amount) return 'N/A';\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    maximumFractionDigits: 0,\n  }).format(amount);\n};\n\n// Format runtime\nconst formatRuntime = minutes => {\n  if (!minutes) return 'N/A';\n  const hours = Math.floor(minutes / 60);\n  const remainingMinutes = minutes % 60;\n  return `${hours}h ${remainingMinutes}m`;\n};\n\n// Show movie details in modal\nconst showMovieDetails = async movieId => {\n  try {\n    const [movieDetails, credits] = await Promise.all([\n      fetchData(`/movie/${movieId}`),\n      fetchData(`/movie/${movieId}/credits`),\n    ]);\n\n    // Update modal content\n    domElements.modal.querySelector('.modal-title').textContent =\n      movieDetails.title;\n    domElements.modal.querySelector('.modal-rating').innerHTML = `\n      <div class=\"stars\">${createStarRating(movieDetails.vote_average)}</div>\n      <span>${movieDetails.vote_average.toFixed(1)}</span>\n    `;\n\n    // Update movie info\n    domElements.modal.querySelector('.modal-genres').innerHTML = `\n      <h4>Genres</h4>\n      <p>${movieDetails.genres.map(g => g.name).join(', ')}</p>\n    `;\n    domElements.modal.querySelector('.modal-release-date').innerHTML = `\n      <h4>Release Date</h4>\n      <p>${formatDate(movieDetails.release_date)}</p>\n    `;\n    domElements.modal.querySelector('.modal-runtime').innerHTML = `\n      <h4>Runtime</h4>\n      <p>${formatRuntime(movieDetails.runtime)}</p>\n    `;\n    domElements.modal.querySelector('.modal-budget').innerHTML = `\n      <h4>Budget</h4>\n      <p>${formatCurrency(movieDetails.budget)}</p>\n    `;\n    domElements.modal.querySelector('.modal-revenue').innerHTML = `\n      <h4>Revenue</h4>\n      <p>${formatCurrency(movieDetails.revenue)}</p>\n    `;\n\n    // Update overview\n    domElements.modal.querySelector('.modal-overview p').textContent =\n      movieDetails.overview;\n\n    // Update cast\n    const castList = domElements.modal.querySelector('.cast-list');\n    castList.innerHTML = credits.cast\n      .slice(0, 6)\n      .map(\n        actor => `\n        <div class=\"cast-member\">\n          <img src=\"https://image.tmdb.org/t/p/w185${actor.profile_path}\" alt=\"${actor.name}\">\n          <div class=\"name\">${actor.name}</div>\n          <div class=\"character\">${actor.character}</div>\n        </div>\n      `\n      )\n      .join('');\n\n    // Show modal\n    domElements.modal.classList.add('active');\n    document.body.style.overflow = 'hidden';\n  } catch (error) {\n    console.error('Error fetching movie details:', error);\n  }\n};\n\n// Close modal\nconst closeModal = () => {\n  domElements.modal.classList.remove('active');\n  document.body.style.overflow = '';\n};\n\n// Event listeners for modal\ndomElements.modalCloseBtn.addEventListener('click', closeModal);\ndomElements.modal.addEventListener('click', e => {\n  if (e.target === domElements.modal) {\n    closeModal();\n  }\n});\n\n// Hero bölümünü film detaylarıyla güncelle\nasync function updateHeroWithMovie(movie) {\n  const heroContent = document.querySelector('.hero-content.movie-hero');\n  const hero = document.querySelector('.hero');\n\n  // Hero background'ını güncelle\n  hero.style.backgroundImage = `url(${IMAGE_BASE_URL}/original${movie.backdrop_path})`;\n\n  // Hero içeriğini güncelle\n  heroContent.innerHTML = `\n    <h1>${movie.title}</h1>\n    <div class=\"movie-rating-stars\">\n      <div class=\"stars\">${createStarRating(movie.vote_average)}</div>\n      <span class=\"rating-number\">${movie.vote_average.toFixed(1)}</span>\n    </div>\n    <p>${movie.overview.slice(0, 150)}...</p>\n    <div class=\"hero-buttons\">\n      <button class=\"watch-trailer-btn\" data-movie-id=\"${movie.id}\">\n        <span>Watch Trailer</span>\n      </button>\n      <button class=\"more-details-btn\" data-movie-id=\"${movie.id}\">\n        <span>More Details</span>\n      </button>\n    </div>\n  `;\n\n  // Hero'yu göster\n  heroContent.style.display = 'block';\n\n  // Butonlara event listener'ları ekle\n  const watchTrailerBtn = heroContent.querySelector('.watch-trailer-btn');\n  const moreDetailsBtn = heroContent.querySelector('.more-details-btn');\n\n  watchTrailerBtn.addEventListener('click', async () => {\n    try {\n      const videos = await fetchData(`/movie/${movie.id}/videos`);\n      const trailer = videos.results.find(\n        video => video.type === 'Trailer' && video.site === 'YouTube'\n      );\n\n      if (trailer) {\n        showVideoModal(trailer.key);\n      } else {\n        showErrorModal(\n          'Sorry, trailer is not available for this movie at the moment. Please check back later.'\n        );\n      }\n    } catch (error) {\n      console.error('Error fetching video:', error);\n      showErrorModal(\n        'Sorry, we encountered an error while loading the trailer. Please try again later.'\n      );\n    }\n  });\n\n  moreDetailsBtn.addEventListener('click', () => showMovieDetails(movie.id));\n}\n\n// Otomatik hero değişimi için değişkenler\nlet currentMovieIndex = 0;\nlet trendingMovies = [];\nlet heroInterval;\n\n// Hero'yu otomatik olarak güncelle\nfunction startHeroAutoSlide(movies) {\n  trendingMovies = movies;\n  currentMovieIndex = Math.floor(Math.random() * movies.length);\n\n  // İlk filmi göster\n  updateHeroWithMovie(trendingMovies[currentMovieIndex]);\n\n  // Navigasyon butonlarına event listener'ları ekle\n  const prevBtn = document.querySelector('.hero-nav-btn.prev-movie');\n  const nextBtn = document.querySelector('.hero-nav-btn.next-movie');\n\n  prevBtn.addEventListener('click', () => {\n    // Otomatik geçişi sıfırla\n    clearInterval(heroInterval);\n\n    // Önceki filme geç\n    currentMovieIndex =\n      (currentMovieIndex - 1 + trendingMovies.length) % trendingMovies.length;\n    updateHeroWithMovie(trendingMovies[currentMovieIndex]);\n\n    // Otomatik geçişi yeniden başlat\n    heroInterval = setInterval(() => {\n      currentMovieIndex = (currentMovieIndex + 1) % trendingMovies.length;\n      updateHeroWithMovie(trendingMovies[currentMovieIndex]);\n    }, 5000);\n  });\n\n  nextBtn.addEventListener('click', () => {\n    // Otomatik geçişi sıfırla\n    clearInterval(heroInterval);\n\n    // Sonraki filme geç\n    currentMovieIndex = (currentMovieIndex + 1) % trendingMovies.length;\n    updateHeroWithMovie(trendingMovies[currentMovieIndex]);\n\n    // Otomatik geçişi yeniden başlat\n    heroInterval = setInterval(() => {\n      currentMovieIndex = (currentMovieIndex + 1) % trendingMovies.length;\n      updateHeroWithMovie(trendingMovies[currentMovieIndex]);\n    }, 5000);\n  });\n\n  // Her 5 saniyede bir filmi değiştir\n  heroInterval = setInterval(() => {\n    currentMovieIndex = (currentMovieIndex + 1) % trendingMovies.length;\n    updateHeroWithMovie(trendingMovies[currentMovieIndex]);\n  }, 5000);\n}\n\n// Weekly trending filmleri göster\nasync function displayWeeklyTrendingMovies(movies) {\n  const weeklyMovieList = document.querySelector('.weekly-movie-list');\n  weeklyMovieList.innerHTML = '';\n\n  for (const movie of movies) {\n    try {\n      // Get movie details to fetch genres\n      const movieDetails = await fetchData(`/movie/${movie.id}`);\n      const genreNames = movieDetails.genres.map(g => g.name).join(', ');\n\n      // Check if movie is in library\n      const library = JSON.parse(localStorage.getItem('library') || '[]');\n      const isInLibrary = library.some(m => m.id === movie.id);\n\n      const movieItem = document.createElement('li');\n      movieItem.className = 'weekly-movie-item';\n      movieItem.innerHTML = `\n        <a href=\"#\" class=\"weekly-movie-link\" data-movie-id=\"${movie.id}\">\n          <img\n            src=\"${IMAGE_BASE_URL}/w500${movie.poster_path}\"\n            alt=\"${movie.title}\"\n            class=\"weekly-movie-image\"\n          />\n          <div class=\"movie-rating\">\n            <i class=\"fas fa-star\"></i>\n            <span>${movie.vote_average.toFixed(1)}</span>\n          </div>\n          <div class=\"movie-year\">${movie.release_date.split('-')[0]}</div>\n          <div class=\"weekly-movie-info\">\n            <h3 class=\"movie-title\">${movie.title}</h3>\n            <div class=\"movie-meta\">\n              <span>${genreNames}</span>\n              <span class=\"movie-meta-divider\">|</span>\n              <span>${movie.release_date.split('-')[0]}</span>\n            </div>\n          </div>\n        </a>\n        <button class=\"add-to-library ${\n          isInLibrary ? 'added' : ''\n        }\" data-movie-id=\"${movie.id}\">\n          <i class=\"fas ${isInLibrary ? 'fa-check' : 'fa-plus'}\"></i>\n          ${isInLibrary ? 'Added to library' : 'Add to library'}\n        </button>\n      `;\n\n      // Add to Library butonuna tıklama olayı ekle\n      const addToLibraryBtn = movieItem.querySelector('.add-to-library');\n      addToLibraryBtn.addEventListener('click', async e => {\n        e.preventDefault();\n        e.stopPropagation();\n\n        const movieId = parseInt(addToLibraryBtn.dataset.movieId);\n        const movie = movies.find(m => m.id === movieId);\n        if (!movie) return;\n\n        // Get movie details for complete data\n        const movieDetails = await fetchData(`/movie/${movieId}`);\n\n        // Get movie data with consistent format\n        const movieData = {\n          id: movieId,\n          title: movie.title,\n          poster_path: movie.poster_path,\n          release_date: movie.release_date,\n          vote_average: movie.vote_average,\n          genres: movieDetails.genres.map(g => g.name).join(', '),\n          overview: movie.overview,\n        };\n\n        // Check if movie is in library\n        let library = JSON.parse(localStorage.getItem('library') || '[]');\n        const isInLibrary = library.some(m => m.id === movieId);\n\n        if (isInLibrary) {\n          // Remove from library\n          library = library.filter(m => m.id !== movieId);\n          localStorage.setItem('library', JSON.stringify(library));\n          addToLibraryBtn.innerHTML =\n            '<i class=\"fas fa-plus\"></i> Add to library';\n          addToLibraryBtn.style.background = '#ff6b01';\n          addToLibraryBtn.disabled = false;\n        } else {\n          // Add to library\n          library.push(movieData);\n          localStorage.setItem('library', JSON.stringify(library));\n          addToLibraryBtn.innerHTML =\n            '<i class=\"fas fa-check\"></i> Added to library';\n          addToLibraryBtn.style.background = '#2ecc71';\n          addToLibraryBtn.disabled = true;\n        }\n      });\n\n      // Film kartına tıklama olayı ekle\n      const movieLink = movieItem.querySelector('.weekly-movie-link');\n      movieLink.addEventListener('click', async e => {\n        e.preventDefault();\n\n        // Otomatik geçişi durdur\n        clearInterval(heroInterval);\n\n        // Hero'yu güncelle\n        updateHeroWithMovie(movie);\n\n        // Sayfayı hero bölümüne kaydır\n        document.querySelector('.hero').scrollIntoView({ behavior: 'smooth' });\n\n        // Otomatik geçişi yeniden başlat\n        heroInterval = setInterval(() => {\n          currentMovieIndex = (currentMovieIndex + 1) % trendingMovies.length;\n          updateHeroWithMovie(trendingMovies[currentMovieIndex]);\n        }, 5000);\n      });\n\n      weeklyMovieList.appendChild(movieItem);\n    } catch (error) {\n      console.error(`Error fetching details for movie ${movie.id}:`, error);\n    }\n  }\n}\n\n// Fetch weekly trending movies\nasync function fetchWeeklyTrendingMovies() {\n  try {\n    const data = await fetchData('/trending/movie/week');\n    if (!data?.results) return;\n\n    // Weekly filmleri göster\n    displayWeeklyTrendingMovies(data.results);\n\n    // Otomatik hero değişimini başlat\n    startHeroAutoSlide(data.results);\n  } catch (error) {\n    console.error('Error fetching trending movies:', error);\n    showErrorModal('Failed to load trending movies. Please try again later.');\n  }\n}\n\n// Pagination için değişkenler\nlet currentPage = 1;\nlet totalPages = 27;\nlet isLoading = false;\n\n// Sayfa numarasına tıklandığında filmleri getir\nasync function handlePageClick(pageNumber) {\n  if (isLoading || pageNumber === currentPage) return;\n\n  try {\n    isLoading = true;\n    const data = await fetchData('/trending/movie/week', {\n      page: pageNumber,\n      language: 'en-US',\n    });\n\n    if (!data?.results) return;\n\n    // Filmleri göster\n    displayWeeklyTrendingMovies(data.results);\n\n    // Aktif sayfayı güncelle\n    currentPage = pageNumber;\n    updatePaginationUI();\n\n    // Sayfayı yukarı kaydır\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  } catch (error) {\n    console.error('Error fetching page:', error);\n    showErrorModal('Failed to load movies. Please try again later.');\n  } finally {\n    isLoading = false;\n  }\n}\n\n// Pagination UI'ı güncelle\nfunction updatePaginationUI() {\n  const pageNumbers = document.querySelector('.page-numbers');\n  const prevBtn = document.querySelector('.pagination-btn.prev-page');\n  const nextBtn = document.querySelector('.pagination-btn.next-page');\n\n  // Önceki/Sonraki butonlarını güncelle\n  prevBtn.disabled = currentPage === 1;\n  nextBtn.disabled = currentPage === totalPages;\n\n  // Sayfa numaralarını güncelle\n  let pageButtons = '';\n\n  // İlk sayfa\n  pageButtons += `\n    <button class=\"pagination-btn ${\n      currentPage === 1 ? 'active' : ''\n    }\" data-page=\"1\">1</button>\n  `;\n\n  // Sol taraf noktaları\n  if (currentPage > 4) {\n    pageButtons += '<span class=\"page-dots\">...</span>';\n  }\n\n  // Aktif sayfanın etrafındaki sayfalar\n  for (\n    let i = Math.max(2, currentPage - 2);\n    i <= Math.min(totalPages - 1, currentPage + 2);\n    i++\n  ) {\n    pageButtons += `\n      <button class=\"pagination-btn ${\n        currentPage === i ? 'active' : ''\n      }\" data-page=\"${i}\">${i}</button>\n    `;\n  }\n\n  // Sağ taraf noktaları\n  if (currentPage < totalPages - 3) {\n    pageButtons += '<span class=\"page-dots\">...</span>';\n  }\n\n  // Son sayfa\n  if (totalPages > 1) {\n    pageButtons += `\n      <button class=\"pagination-btn ${\n        currentPage === totalPages ? 'active' : ''\n      }\" data-page=\"${totalPages}\">${totalPages}</button>\n    `;\n  }\n\n  pageNumbers.innerHTML = pageButtons;\n\n  // Sayfa butonlarına tıklama olayı ekle\n  pageNumbers.querySelectorAll('.pagination-btn').forEach(btn => {\n    btn.addEventListener('click', () => {\n      const page = parseInt(btn.dataset.page);\n      handlePageClick(page);\n    });\n  });\n}\n\n// Önceki/Sonraki butonlarına tıklama olayı ekle\ndocument\n  .querySelector('.pagination-btn.prev-page')\n  .addEventListener('click', () => {\n    if (currentPage > 1) {\n      handlePageClick(currentPage - 1);\n    }\n  });\n\ndocument\n  .querySelector('.pagination-btn.next-page')\n  .addEventListener('click', () => {\n    if (currentPage < totalPages) {\n      handlePageClick(currentPage + 1);\n    }\n  });\n\n// Arama fonksiyonu\nasync function handleSearch(e) {\n  e.preventDefault();\n  const searchInput = document.querySelector('.search-input');\n  const searchTerm = searchInput.value.trim();\n\n  if (!searchTerm) {\n    // Arama boşsa normal filmleri göster\n    fetchWeeklyTrendingMovies();\n    return;\n  }\n\n  try {\n    const data = await fetchData('/search/movie', {\n      query: searchTerm,\n      language: 'en-US',\n    });\n\n    if (!data?.results) return;\n\n    // Sadece weekly-movie-list'i güncelle\n    const weeklyMovieList = document.querySelector('.weekly-movie-list');\n    weeklyMovieList.innerHTML = '';\n\n    for (const movie of data.results) {\n      try {\n        // Get movie details to fetch genres\n        const movieDetails = await fetchData(`/movie/${movie.id}`);\n        const genreNames = movieDetails.genres.map(g => g.name).join(', ');\n\n        // Check if movie is in library\n        const library = JSON.parse(localStorage.getItem('library') || '[]');\n        const isInLibrary = library.some(m => m.id === movie.id);\n\n        const movieItem = document.createElement('li');\n        movieItem.className = 'weekly-movie-item';\n        movieItem.innerHTML = `\n          <a href=\"#\" class=\"weekly-movie-link\" data-movie-id=\"${movie.id}\">\n            <img\n              src=\"${IMAGE_BASE_URL}/w500${movie.poster_path}\"\n              alt=\"${movie.title}\"\n              class=\"weekly-movie-image\"\n            />\n            <div class=\"movie-rating\">\n              <i class=\"fas fa-star\"></i>\n              <span>${movie.vote_average.toFixed(1)}</span>\n            </div>\n            <div class=\"movie-year\">${\n              movie.release_date?.split('-')[0] || 'N/A'\n            }</div>\n            <div class=\"weekly-movie-info\">\n              <h3 class=\"movie-title\">${movie.title}</h3>\n              <div class=\"movie-meta\">\n                <span>${genreNames}</span>\n                <span class=\"movie-meta-divider\">|</span>\n                <span>${movie.release_date?.split('-')[0] || 'N/A'}</span>\n              </div>\n            </div>\n          </a>\n          <button class=\"add-to-library ${\n            isInLibrary ? 'added' : ''\n          }\" data-movie-id=\"${movie.id}\">\n            <i class=\"fas ${isInLibrary ? 'fa-check' : 'fa-plus'}\"></i>\n            ${isInLibrary ? 'Added to library' : 'Add to library'}\n          </button>\n        `;\n\n        // Add to Library butonuna tıklama olayı ekle\n        const addToLibraryBtn = movieItem.querySelector('.add-to-library');\n        addToLibraryBtn.addEventListener('click', async e => {\n          e.preventDefault();\n          e.stopPropagation();\n\n          const movieId = parseInt(addToLibraryBtn.dataset.movieId);\n          const movie = data.results.find(m => m.id === movieId);\n          if (!movie) return;\n\n          // Get movie details for complete data\n          const movieDetails = await fetchData(`/movie/${movieId}`);\n\n          // Get movie data with consistent format\n          const movieData = {\n            id: movieId,\n            title: movie.title,\n            poster_path: movie.poster_path,\n            release_date: movie.release_date,\n            vote_average: movie.vote_average,\n            genres: movieDetails.genres.map(g => g.name).join(', '),\n            overview: movie.overview,\n          };\n\n          // Check if movie is in library\n          let library = JSON.parse(localStorage.getItem('library') || '[]');\n          const isInLibrary = library.some(m => m.id === movieId);\n\n          if (isInLibrary) {\n            // Remove from library\n            library = library.filter(m => m.id !== movieId);\n            localStorage.setItem('library', JSON.stringify(library));\n            addToLibraryBtn.innerHTML =\n              '<i class=\"fas fa-plus\"></i> Add to library';\n            addToLibraryBtn.style.background = '#ff6b01';\n            addToLibraryBtn.disabled = false;\n          } else {\n            // Add to library\n            library.push(movieData);\n            localStorage.setItem('library', JSON.stringify(library));\n            addToLibraryBtn.innerHTML =\n              '<i class=\"fas fa-check\"></i> Added to library';\n            addToLibraryBtn.style.background = '#2ecc71';\n            addToLibraryBtn.disabled = true;\n          }\n        });\n\n        weeklyMovieList.appendChild(movieItem);\n      } catch (error) {\n        console.error(`Error fetching details for movie ${movie.id}:`, error);\n      }\n    }\n\n    // Pagination'ı gizle\n    document.querySelector('.pagination').style.display = 'none';\n  } catch (error) {\n    console.error('Error searching movies:', error);\n    showErrorModal('Failed to search movies. Please try again later.');\n  }\n}\n\n// Yıl filtresi için fonksiyon\nasync function handleYearFilter(year) {\n  try {\n    let data;\n    if (!year) {\n      // Yıl seçilmemişse normal filmleri getir\n      data = await fetchData('/trending/movie/week');\n    } else {\n      // Seçilen yıla göre filmleri getir\n      data = await fetchData('/discover/movie', {\n        primary_release_year: year,\n        sort_by: 'popularity.desc',\n        language: 'en-US',\n      });\n    }\n\n    if (!data?.results) return;\n\n    // Filmleri göster\n    displayWeeklyTrendingMovies(data.results);\n\n    // Pagination'ı gizle\n    document.querySelector('.pagination').style.display = 'none';\n  } catch (error) {\n    console.error('Error fetching movies by year:', error);\n    showErrorModal('Failed to load movies. Please try again later.');\n  }\n}\n\n// Update library buttons\nconst updateLibraryButtons = () => {\n  const library = JSON.parse(localStorage.getItem('library') || '[]');\n  document.querySelectorAll('.add-to-library').forEach(button => {\n    const movieId = parseInt(button.dataset.movieId);\n    if (library.some(movie => movie.id === movieId)) {\n      button.innerHTML = '<i class=\"fas fa-check\"></i> Added to library';\n      button.style.background = '#2ecc71';\n      button.disabled = true;\n    }\n  });\n};\n\n// Search and filter functionality\nconst initSearchAndFilter = () => {\n  let searchTimeout;\n\n  domElements.searchInput.addEventListener('input', e => {\n    clearTimeout(searchTimeout);\n    searchTimeout = setTimeout(() => {\n      handleSearch(e.target.value);\n    }, 500);\n  });\n\n  domElements.yearSelect.addEventListener('change', e => {\n    handleYearFilter(e.target.value);\n  });\n\n  domElements.searchButton.addEventListener('click', () => {\n    handleSearch(domElements.searchInput.value);\n  });\n};\n\n// Hamburger Menu Functions\nconst initHamburgerMenu = () => {\n  domElements.hamburgerMenu.addEventListener('click', () => {\n    domElements.hamburgerMenu.classList.toggle('active');\n    domElements.navLinks.classList.toggle('active');\n  });\n\n  // Close menu when clicking outside\n  document.addEventListener('click', e => {\n    if (\n      !domElements.hamburgerMenu.contains(e.target) &&\n      !domElements.navLinks.contains(e.target)\n    ) {\n      domElements.hamburgerMenu.classList.remove('active');\n      domElements.navLinks.classList.remove('active');\n    }\n  });\n\n  // Close menu when clicking on a link\n  domElements.navLinks.querySelectorAll('a').forEach(link => {\n    link.addEventListener('click', () => {\n      domElements.hamburgerMenu.classList.remove('active');\n      domElements.navLinks.classList.remove('active');\n    });\n  });\n};\n\n// Initialize\nconst initCatalog = () => {\n  initTheme();\n  initHamburgerMenu();\n  initSearchAndFilter();\n  renderMovies();\n  fetchWeeklyTrendingMovies();\n};\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n  initCatalog();\n  updateLibraryButtons();\n\n  // Arama butonuna tıklama olayı ekle\n  const searchButton = document.querySelector('.search-button');\n  searchButton.addEventListener('click', handleSearch);\n\n  // Enter tuşuna basıldığında arama yap\n  const searchInput = document.querySelector('.search-input');\n  searchInput.addEventListener('keypress', e => {\n    if (e.key === 'Enter') {\n      handleSearch(e);\n    }\n  });\n});\n\n// Pagination functionality\nfunction updatePagination(currentPage, totalPages) {\n  const paginationContainer = document.querySelector('.pagination');\n  if (!paginationContainer) return;\n\n  let paginationHTML = '';\n\n  // Previous button\n  paginationHTML += `\n    <button class=\"pagination-btn\" data-page=\"${currentPage - 1}\" ${\n    currentPage === 1 ? 'disabled' : ''\n  }>\n      <i class=\"fas fa-chevron-left\"></i>\n    </button>\n  `;\n\n  // Page numbers\n  for (let i = 1; i <= totalPages; i++) {\n    if (\n      i === 1 ||\n      i === totalPages ||\n      (i >= currentPage - 1 && i <= currentPage + 1)\n    ) {\n      paginationHTML += `\n        <button class=\"pagination-btn ${\n          i === currentPage ? 'active' : ''\n        }\" data-page=\"${i}\">\n          ${i}\n        </button>\n      `;\n    } else if (i === currentPage - 2 || i === currentPage + 2) {\n      paginationHTML += '<span class=\"page-dots\">...</span>';\n    }\n  }\n\n  // Next button\n  paginationHTML += `\n    <button class=\"pagination-btn\" data-page=\"${currentPage + 1}\" ${\n    currentPage === totalPages ? 'disabled' : ''\n  }>\n      <i class=\"fas fa-chevron-right\"></i>\n    </button>\n  `;\n\n  paginationContainer.innerHTML = paginationHTML;\n}\n\n// Event delegation for pagination\ndocument.addEventListener('DOMContentLoaded', () => {\n  const paginationContainer = document.querySelector('.pagination');\n  if (paginationContainer) {\n    paginationContainer.addEventListener('click', e => {\n      const button = e.target.closest('.pagination-btn');\n      if (!button || button.disabled) return;\n\n      const page = parseInt(button.dataset.page);\n      if (!isNaN(page)) {\n        renderMovies(page);\n      }\n    });\n  }\n});\n\n// Update renderMovies function to handle pagination\nconst renderMovies = async (page = 1) => {\n  try {\n    const year = document.getElementById('year-select').value;\n    const searchQuery = document.getElementById('search-input').value;\n    const data = await fetchData('/discover/movie', {\n      page,\n      year,\n      query: searchQuery,\n      language: 'en-US',\n      include_adult: true,\n    });\n\n    if (!data?.results) {\n      domElements.movieGrid.innerHTML = '<p>No movies found.</p>';\n      return;\n    }\n\n    const moviesHTML = data.results\n      .map(movie => {\n        const posterPath = movie.poster_path\n          ? `https://image.tmdb.org/t/p/w500${movie.poster_path}`\n          : 'https://via.placeholder.com/500x750?text=No+Image';\n        const releaseYear = movie.release_date\n          ? movie.release_date.split('-')[0]\n          : 'N/A';\n\n        return `\n          <div class=\"movie-item\">\n            <a href=\"#\" class=\"movie-link\" data-id=\"${movie.id}\">\n              <div class=\"movie-image-container\">\n                <img src=\"${posterPath}\" alt=\"${\n          movie.title\n        }\" class=\"movie-image\" />\n                <div class=\"movie-info\">\n                  <h3 class=\"movie-title\">${movie.title}</h3>\n                  <div class=\"movie-meta\">\n                    <span class=\"movie-year\">${releaseYear}</span>\n                    <span class=\"movie-meta-divider\">•</span>\n                    <span class=\"movie-rating\">\n                      <i class=\"fas fa-star\"></i>\n                      ${movie.vote_average.toFixed(1)}\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </a>\n          </div>\n        `;\n      })\n      .join('');\n\n    domElements.movieGrid.innerHTML = moviesHTML;\n\n    // Update pagination\n    updatePagination(page, Math.min(data.total_pages, 500));\n\n    // Add event listeners to movie links\n    const movieLinks = domElements.movieGrid.querySelectorAll('.movie-link');\n    movieLinks.forEach(link => {\n      link.addEventListener('click', async e => {\n        e.preventDefault();\n        const movieId = link.dataset.id;\n        await showMovieDetails(movieId);\n      });\n    });\n  } catch (error) {\n    console.error('Error fetching movies:', error);\n    domElements.movieGrid.innerHTML =\n      '<p>Error loading movies. Please try again.</p>';\n  }\n};\n\n// Initialize the page\ndocument.addEventListener('DOMContentLoaded', () => {\n  renderMovies();\n});\n"],"names":["API_KEY","API_BASE_URL","IMAGE_BASE_URL","apiBaseUrl","axios","domElements","fetchData","endpoint","params","error","createStarRating","rating","_","index","formatDate","dateString","initTheme","showVideoModal","videoId","closeVideoModal","showErrorModal","message","closeErrorModal","formatCurrency","amount","formatRuntime","minutes","hours","remainingMinutes","showMovieDetails","movieId","movieDetails","credits","g","castList","actor","closeModal","updateHeroWithMovie","movie","heroContent","hero","watchTrailerBtn","moreDetailsBtn","trailer","video","currentMovieIndex","trendingMovies","heroInterval","startHeroAutoSlide","movies","prevBtn","nextBtn","displayWeeklyTrendingMovies","weeklyMovieList","genreNames","isInLibrary","m","movieItem","addToLibraryBtn","e","movieData","library","fetchWeeklyTrendingMovies","data","currentPage","totalPages","isLoading","handlePageClick","pageNumber","updatePaginationUI","pageNumbers","pageButtons","i","btn","page","handleSearch","searchTerm","_a","_b","handleYearFilter","year","updateLibraryButtons","button","initSearchAndFilter","searchTimeout","initHamburgerMenu","link","initCatalog","renderMovies","updatePagination","paginationContainer","paginationHTML","searchQuery","moviesHTML","posterPath","releaseYear"],"mappings":"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"}